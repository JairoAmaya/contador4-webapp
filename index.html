<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente Tributario SAT | Contador 4.0</title>
    <link rel="icon" type="image/jpeg" href="https://jairoamaya.co/wp-content/uploads/2025/12/Icono-contador-4.0.jpg">
    
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@700;800&display=swap" rel="stylesheet">

    <style>
        /* --- ESTILOS DARK MODE (Igual al HUB) --- */
        :root {
            --bg-dark: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            --card-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(255, 255, 255, 0.1);
            --text-primary: #e2e8f0;
            --accent-color: #667eea;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Lato', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Bot√≥n Volver */
        .back-to-hub {
            position: fixed; top: 20px; left: 20px; z-index: 1000;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(5px);
            padding: 8px 16px; border-radius: 50px;
            color: white; text-decoration: none;
            border: 1px solid var(--border-color);
            font-size: 0.9rem; transition: all 0.3s;
            display: flex; align-items: center; gap: 8px;
        }
        .back-to-hub:hover { background: #2563eb; border-color: #2563eb; transform: translateX(5px); }

        .app-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
            flex: 1;
            width: 100%;
        }

        /* Header */
        .header {
            text-align: center; margin-bottom: 40px; padding: 40px;
            background: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: 16px; box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        .flag-icon { font-size: 3rem; display: block; margin-bottom: 10px; }
        .header h1 {
            font-family: 'Poppins', sans-serif; font-size: 2.2rem; font-weight: 800;
            margin: 0; background: linear-gradient(135deg, #ffffff 0%, #a8b3ff 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .header p { color: #94a3b8; margin-top: 10px; font-size: 1.1rem; }

        /* Buscador */
        .search-container { margin-bottom: 30px; position: sticky; top: 20px; z-index: 500; }
        .search-input {
            width: 100%; padding: 15px 20px;
            border-radius: 12px; border: 1px solid var(--border-color);
            background: rgba(15, 23, 42, 0.95); color: white;
            font-size: 1rem; backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            transition: border-color 0.3s;
        }
        .search-input:focus { outline: none; border-color: var(--accent-color); }

        /* Grid */
        .prompts-grid { display: flex; flex-direction: column; gap: 20px; }
        
        .prompt-card {
            background: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: 12px; padding: 25px; transition: transform 0.2s;
        }
        .prompt-card:hover { transform: translateY(-3px); background: rgba(255,255,255,0.08); }

        .card-header { margin-bottom: 15px; }
        .prompt-title {
            font-family: 'Poppins', sans-serif; font-size: 1.2rem;
            font-weight: 700; color: white; margin-bottom: 10px; display: block;
        }
        .meta-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;}
        .badge { font-size: 0.8rem; padding: 4px 8px; border-radius: 4px; }
        /* Colores SAT (Naranja/Verde) */
        .badge.category { background: rgba(230, 110, 51, 0.2); color: #fb923c; border: 1px solid rgba(230, 110, 51, 0.3); }
        
        .prompt-content {
            background: rgba(0,0,0,0.3); padding: 15px;
            border-radius: 8px; font-family: monospace;
            font-size: 0.9rem; color: #cbd5e1; white-space: pre-wrap;
            margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05);
        }

        .actions { display: flex; gap: 10px; flex-wrap: wrap; }
        .btn {
            padding: 10px 16px; border-radius: 8px; border: none;
            font-weight: 600; cursor: pointer; font-size: 0.9rem;
            text-decoration: none; display: flex; align-items: center;
            justify-content: center; gap: 5px; transition: all 0.2s; flex: 1;
            font-family: 'Lato', sans-serif;
        }
        .btn-copy { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; min-width: 140px; }
        .btn-copy:hover { filter: brightness(1.1); }
        .btn-ai { background: rgba(255,255,255,0.05); border: 1px solid var(--border-color); color: #94a3b8; }
        .btn-ai:hover { background: rgba(255,255,255,0.1); color: white; }

        .no-results { text-align: center; color: #64748b; padding: 40px; display: none; }

        /* Footer */
        .footer-wrapper { margin-top: auto; position: relative; width: 100%; }
        .floating-char {
            position: absolute; bottom: 85%; left: 50%;
            transform: translateX(-50%); width: 280px;
            z-index: 0; pointer-events: none;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
            animation: float-center 6s ease-in-out infinite;
        }
        @keyframes float-center { 
            0% { transform: translate(-50%, 0px); } 
            50% { transform: translate(-50%, -20px); } 
            100% { transform: translate(-50%, 0px); } 
        }
        
        .main-footer {
            text-align: center; padding: 80px 20px 30px;
            background: rgba(10, 10, 20, 0.9); backdrop-filter: blur(15px);
            border-top: 1px solid var(--border-color); position: relative; z-index: 5;
        }
        .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .footer-links a { color: #a8b3ff; text-decoration: none; font-weight: 600; }

        @media (max-width: 768px) {
            .actions { flex-direction: column; }
            .floating-char { width: 180px; bottom: 90%; }
            .footer-links { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>

    <a href="https://contador4-0-master.vercel.app/" class="back-to-hub">
        <span>üè†</span> Volver al HUB
    </a>

    <div class="app-container">
        <header class="header">
            <div class="flag-icon">üá≤üáΩ</div>
            <h1>Asistente Tributario SAT</h1>
            <p>Especialista en CFDI 4.0, RESICO, ISR e IVA (M√©xico)</p>
        </header>

        <div class="search-container">
            <input type="text" id="searchInput" class="search-input" placeholder="üîç Buscar prompt (ej: Carta Porte, RESICO, Deducciones, Anual)...">
        </div>

        <div id="promptsContainer" class="prompts-grid">
            </div>
        <div id="noResults" class="no-results">No se encontraron prompts.</div>
    </div>

    <div class="footer-wrapper">
        <img src="https://contador4-0-master.vercel.app/personaje-contador.png" alt="Asistente" class="floating-char">
        <footer class="main-footer">
            <div class="footer-links">
                <a href="https://jairoamaya.co" target="_blank">Sitio Web</a> ‚Ä¢
                <a href="https://linkedin.com/in/jairoamaya" target="_blank">LinkedIn</a> ‚Ä¢
                <a href="mailto:hola@jairoamaya.co">Contacto</a>
            </div>
            <div style="color: #9ca3af; font-size: 0.9rem;">
                <p><strong>Contador 4.0 Suite</strong></p>
                <p style="margin-top: 5px;">Herramienta de productividad dise√±ada por Jairo Amaya</p>
                <p style="margin-top: 15px; opacity: 0.6; font-size: 0.8em;">¬© 2025 Todos los derechos reservados.</p>
            </div>
        </footer>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        
        // --- BASE DE DATOS CORRECTA: PROMPTS DEL SAT (M√âXICO) ---
        const promptsData = [
            {
                "nombre": "An√°lisis de R√©gimen Simplificado (RESICO) Personas F√≠sicas",
                "categoria": "R√©gimen Fiscal",
                "contenido": "Act√∫a como experto fiscal mexicano. Analiza si una Persona F√≠sica con actividad de [ACTIVIDAD] y ingresos anuales estimados de [MONTO] cumple los requisitos para tributar en RESICO conforme a la Ley del ISR vigente. Detalla obligaciones, tasas aplicables, prohibiciones (socios, partes relacionadas) y beneficios comparados con Actividad Empresarial."
            },
            {
                "nombre": "Validaci√≥n de Requisitos CFDI 4.0",
                "categoria": "Facturaci√≥n",
                "contenido": "Genera un checklist de validaci√≥n para la emisi√≥n de un CFDI 4.0 para un cliente [TIPO: P. F√≠sica/Moral] con R√©gimen [R√âGIMEN]. Incluye la validaci√≥n de: Nombre/Raz√≥n Social (sin r√©gimen capital), C√≥digo Postal del domicilio fiscal, R√©gimen Fiscal del receptor y Uso del CFDI, citando la regla de la RMF aplicable."
            },
            {
                "nombre": "C√°lculo de Pagos Provisionales ISR (P. Moral)",
                "categoria": "C√°lculos",
                "contenido": "Explica paso a paso el procedimiento para el c√°lculo de pagos provisionales de ISR para una Persona Moral del T√≠tulo II de la LISR. Incluye la determinaci√≥n del coeficiente de utilidad, la acumulaci√≥n de ingresos nominales, la disminuci√≥n de la PTU pagada y la amortizaci√≥n de p√©rdidas fiscales."
            },
            {
                "nombre": "Respuesta a Carta Invitaci√≥n SAT (Diferencias IVA)",
                "categoria": "Defensa Fiscal",
                "contenido": "Redacta una respuesta formal a una Carta Invitaci√≥n del SAT por supuestas diferencias en el IVA Trasladado en CFDI vs. lo Declarado. Estructura la respuesta aclarando que las diferencias obedecen a [CAUSA: Flujo de efectivo / Notas de cr√©dito / PPD no cobrados] y ofrece adjuntar papeles de trabajo conciliatorios."
            },
            {
                "nombre": "Requisitos de Deducibilidad de Gastos (Art. 27 LISR)",
                "categoria": "Deducciones",
                "contenido": "Analiza la deducibilidad de [GASTO ESPEC√çFICO] para una empresa del giro [GIRO]. Basa tu an√°lisis en el Art. 27 de la LISR, enfoc√°ndote en el concepto de 'estrictamente indispensable', los requisitos de pago (medios electr√≥nicos > $2,000) y la obtenci√≥n del CFDI en el ejercicio."
            },
            {
                "nombre": "Complemento Carta Porte (Autotransporte)",
                "categoria": "Facturaci√≥n",
                "contenido": "Explica cu√°ndo es obligatorio emitir un CFDI de Ingreso o Traslado con Complemento Carta Porte para el traslado de mercanc√≠as en territorio nacional por v√≠a [MEDIO: Federal/Local]. Detalla los supuestos de excepci√≥n para tramos locales y veh√≠culos ligeros seg√∫n la Resoluci√≥n Miscel√°nea Fiscal vigente."
            },
            {
                "nombre": "Tratamiento del IVA en Zona Fronteriza Norte",
                "categoria": "Impuestos",
                "contenido": "Explica los requisitos y el procedimiento para aplicar el est√≠mulo fiscal de IVA al 8% en la Zona Fronteriza Norte. Detalla los plazos para presentar el aviso de renovaci√≥n y las causales por las que el SAT podr√≠a dar de baja al contribuyente del padr√≥n de beneficiarios."
            },
            {
                "nombre": "Cancelaci√≥n de CFDI y Motivos (01, 02, 03, 04)",
                "categoria": "Facturaci√≥n",
                "contenido": "Gu√≠ame en el proceso de cancelaci√≥n de un CFDI con error. Explica cu√°ndo usar el Motivo 01 (Comprobante emitido con errores con relaci√≥n) vs Motivo 02 (Comprobante emitido con errores sin relaci√≥n). Describe el flujo para sustituir la factura y relacionar el UUID correctamente para evitar multas."
            },
            {
                "nombre": "Atenci√≥n a Opini√≥n de Cumplimiento Negativa (32-D)",
                "categoria": "Cumplimiento",
                "contenido": "Elabora un plan de acci√≥n para corregir una Opini√≥n de Cumplimiento Negativa (32-D) que muestra cr√©ditos fiscales firmes y declaraciones omitidas de [PERIODO]. Incluye los pasos para aclarar los cr√©ditos, presentar las complementarias y solicitar la actualizaci√≥n de la opini√≥n en el portal del SAT."
            },
            {
                "nombre": "C√°lculo de Recargos y Actualizaciones",
                "categoria": "C√°lculos",
                "contenido": "Genera la f√≥rmula y un ejemplo pr√°ctico para calcular la actualizaci√≥n y recargos de un impuesto omitido de [MES/A√ëO] a la fecha actual, utilizando los INPC publicados por el INEGI y la tasa de recargos por mora vigente seg√∫n el C√≥digo Fiscal de la Federaci√≥n."
            },
            {
                "nombre": "Sueldos y Salarios: C√°lculo de ISR y Subsidio",
                "categoria": "N√≥mina",
                "contenido": "Explica el procedimiento para calcular el ISR a retener a un trabajador con un sueldo mensual de [MONTO]. Detalla la aplicaci√≥n de las tablas de ISR vigentes y, en su caso, la aplicaci√≥n del Subsidio para el Empleo, incluyendo el ajuste mensual."
            },
            {
                "nombre": "Retenciones de ISR e IVA (RESICO vs P. Moral)",
                "categoria": "Impuestos",
                "contenido": "Detalla las retenciones de ISR (1.25%) e IVA (10.66%) que debe aplicar una Persona Moral al recibir servicios profesionales o arrendamiento de una Persona F√≠sica en RESICO. Cita los fundamentos legales aplicables."
            },
            {
                "nombre": "Declaraci√≥n Informativa de Operaciones con Terceros (DIOT)",
                "categoria": "Cumplimiento",
                "contenido": "Explica qu√© contribuyentes est√°n obligados a presentar la DIOT, qu√© informaci√≥n debe contener (RFC de proveedores, montos de IVA pagado al 16%, 8%, 0% y exento) y cu√°les son las facilidades administrativas para no presentarla (ej. RESICO)."
            },
            {
                "nombre": "Materialidad de las Operaciones (Art. 69-B CFF)",
                "categoria": "Defensa Fiscal",
                "contenido": "Dise√±a una lista de documentos y evidencias (entregables) que una empresa debe conservar para demostrar la 'materialidad' de un servicio intangible (ej. consultor√≠a/marketing) ante una revisi√≥n del SAT, evitando la presunci√≥n de operaciones inexistentes (EFOS/EDOS)."
            },
            {
                "nombre": "Aviso de Suspensi√≥n de Actividades",
                "categoria": "RFC",
                "contenido": "Describe el procedimiento y las consecuencias de presentar el Aviso de Suspensi√≥n de Actividades en el RFC. Explica qu√© obligaciones se detienen, cu√°les permanecen activas y en qu√© casos el SAT podr√≠a reactivar autom√°ticamente al contribuyente."
            }
        ];

        // 2. L√ìGICA DE B√öSQUEDA Y RENDERIZADO
        const container = document.getElementById('promptsContainer');
        const searchInput = document.getElementById('searchInput');
        const noResults = document.getElementById('noResults');

        function renderPrompts(list) {
            container.innerHTML = '';
            if (list.length === 0) {
                noResults.style.display = 'block';
                return;
            }
            noResults.style.display = 'none';

            list.forEach((p, idx) => {
                const card = document.createElement('div');
                card.className = 'prompt-card';
                card.innerHTML = `
                    <div class="card-header">
                        <h3 class="prompt-title">${p.nombre}</h3>
                        <div class="meta-tags">
                            <span class="badge category">${p.categoria}</span>
                        </div>
                    </div>
                    <div class="prompt-content">${p.contenido}</div>
                    <div class="actions">
                        <button class="btn btn-copy" onclick="copyText(this)">üìã Copiar Prompt</button>
                        <a href="https://chat.openai.com/" target="_blank" class="btn btn-ai">üü¢ ChatGPT</a>
                        <a href="https://claude.ai/" target="_blank" class="btn btn-ai">üü† Claude</a>
                        <a href="https://gemini.google.com/" target="_blank" class="btn btn-ai">üîµ Gemini</a>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        window.copyText = function(btn) {
            const content = btn.parentElement.previousElementSibling.innerText;
            navigator.clipboard.writeText(content).then(() => {
                const original = btn.innerHTML;
                btn.innerHTML = '‚úÖ Copiado';
                btn.style.background = '#10b981';
                setTimeout(() => {
                    btn.innerHTML = original;
                    btn.style.background = '';
                }, 2000);
            });
        };

        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = promptsData.filter(p => 
                p.nombre.toLowerCase().includes(term) || 
                p.contenido.toLowerCase().includes(term) ||
                p.categoria.toLowerCase().includes(term)
            );
            renderPrompts(filtered);
        });

        // Inicializar
        renderPrompts(promptsData);
    });
    </script>
</body>
</html>
